{"version":3,"sources":["webpack:///./src/components/Tip.vue?98c1","webpack:///./src/components/Article.vue?b804","webpack:///./src/views/ReadMode.vue?f5ff","webpack:///./src/components/Article.vue?c80b","webpack:///./src/components/Tip.vue?9e78","webpack:///src/components/Tip.vue","webpack:///./src/components/Tip.vue?f1a2","webpack:///./src/components/Tip.vue","webpack:///./src/components/InteractiveText.vue?8309","webpack:///src/components/InteractiveText.vue","webpack:///./src/components/InteractiveText.vue?8ad2","webpack:///./src/components/InteractiveText.vue","webpack:///./src/services/highlights/index.js","webpack:///./src/services/hairsplitter/index.js","webpack:///src/components/Article.vue","webpack:///./src/components/Article.vue?5c4c","webpack:///./src/components/Article.vue","webpack:///src/views/ReadMode.vue","webpack:///./src/views/ReadMode.vue?76a7","webpack:///./src/views/ReadMode.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Tip_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Tip_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Article_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Article_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","render","_vm","this","_h","$createElement","_c","_self","attrs","column","align-center","justify-center","href","src","alt","height","url","_v","_s","_e","error","red","article","staticRenderFns","Articlevue_type_template_id_23466087_render","staticClass","text","tip","y","tipOffset","title","xs12","image","max-heigth","html","rawHtml","callback","onHighlight","target","Articlevue_type_template_id_23466087_staticRenderFns","Tipvue_type_template_id_07d0c1b6_render","style","sm4","offset-sm8","primary-title","message","Tipvue_type_template_id_07d0c1b6_staticRenderFns","Tipvue_type_script_lang_js_","props","components_Tipvue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","Tip","installComponents_default","VCard","VCardTitle","VFlex","VLayout","InteractiveTextvue_type_template_id_5e06ec12_render","domProps","innerHTML","on","mouseover","doHighlight","click","onClick","InteractiveTextvue_type_template_id_5e06ec12_staticRenderFns","InteractiveTextvue_type_script_lang_js_","data","_ref","highlightClass","highlight","focus","methods","_ref2","undoHighlight","_ref3","isHighlight","className","split","includes","components_InteractiveTextvue_type_script_lang_js_","InteractiveText_component","InteractiveText","getTipMessage","offset","type","content","console","log","_sentiment","parseFloat","sentiment","concat","toFixed","getColor","hue","saturation","alpha","htmlForHighlight","arguments","length","undefined","_objectWithoutProperties","htmlForSentiment","entity","magnitude","highlightColor","Math","abs","convertTokens","tokens","map","token","convertAiTokens","entities","convertHtml","tag","_tag","_slicedToArray","extract","markup","byOffset","a","b","push","sort","_tokens$reduce","reduce","elem","text_tokens","current_offset","slice","_toConsumableArray","Articlevue_type_script_lang_js_","name","created","_created","_asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","stop","apply","watch","_article","isHTMLReady","components","element","isShowingTip","offsetTop","showTip","dataset","_this$article","stopwords","checkFacts","html_tokens","filteredEntities","filter","salience","flatMap","mentions","ai_tokens","fact_tokens","stopwords_tokens","highlights","Articlevue_type_script_lang_js_toConsumableArray","join","_ref$article","isAIReady","components_Articlevue_type_script_lang_js_","Article_component","Article","VContainer","VImg","ReadModevue_type_script_lang_js_","ReadModevue_type_script_lang_js_asyncToGenerator","loadArticle","isLoading","newUrl","_loadArticle","_callee2","parsing_result","post","_context2","api","analyse","sent","Error","_objectSpread","t0","finish","_x","views_ReadModevue_type_script_lang_js_","ReadMode_component","__webpack_exports__","VContent"],"mappings":"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","file":"js/readmode.b715726b.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tip.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tip.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Article.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Article.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-content',[_c('section',[_c('v-layout',{attrs:{\"column\":\"\",\"align-center\":\"\",\"justify-center\":\"\"}},[_c('a',{attrs:{\"href\":\"/analyze\"}},[_c('img',{attrs:{\"src\":require(\"../assets/logo.png\"),\"alt\":\"more just media\",\"height\":\"200\"}})]),_c('p',[_c('a',{attrs:{\"href\":_vm.url}},[_vm._v(_vm._s(_vm.url))])]),(_vm.isLoading)?_c('h1',[_vm._v(\"Loading...\")]):_vm._e(),(!!_vm.error)?_c('h2',{attrs:{\"red\":\"\"}},[_vm._v(_vm._s(_vm.error))]):_c('Article',{attrs:{\"article\":_vm.article}})],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.isShowingTip)?_c('Tip',{staticClass:\"tip\",attrs:{\"text\":_vm.tip,\"y\":_vm.tipOffset + 32}}):_vm._e(),_c('article',{staticClass:\"reading-mode simple-container\"},[_c('h1',[_vm._v(\"\\n      \"+_vm._s(_vm.article.title)+\"\\n    \")]),_c('v-layout',{attrs:{\"justify-center\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\"}},[_c('v-img',{attrs:{\"src\":_vm.article.image,\"max-heigth\":\"400px\"}})],1)],1),_c('p'),(_vm.isHTMLReady)?_c('v-container',[_c('InteractiveText',{attrs:{\"html\":_vm.rawHtml,\"callback\":_vm.onHighlight}}),_c('p',[_vm._v(\"\\n        Source: \"),_c('a',{attrs:{\"href\":_vm.article.url,\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm.article.url))])])],1):_c('p',[_vm._v(\"\\n      Markup is getting ready...\\n      \"),_c('br'),_c('br'),_vm._v(\"\\n      \"+_vm._s(_vm.article.text)+\"\\n    \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',{staticClass:\"absolute popover\",style:('top: ' + (_vm.y || 0) + 'px')},[_c('v-flex',{attrs:{\"xs12\":\"\",\"sm4\":\"\",\"offset-sm8\":\"\"}},[_c('v-card',{staticClass:\"card\"},[_c('v-card-title',{attrs:{\"primary-title\":\"\"}},[_c('p',[_vm._v(\"\\n          \"+_vm._s(_vm.text.title)+\"\\n        \")]),_c('p',[_vm._v(\"\\n          \"+_vm._s(_vm.text.message)+\"\\n        \")])])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\n  <v-layout class=\"absolute popover\" :style=\"'top: ' + (y || 0) + 'px'\">\n    <v-flex xs12 sm4 offset-sm8>\n      <v-card class=\"card\">\n\n        <v-card-title primary-title>\n          <p>\n            {{ text.title }}\n          </p>\n          <p>\n            {{ text.message }}\n          </p>\n        </v-card-title>\n      </v-card>\n    </v-flex>\n  </v-layout>\n\n\n</template>\n\n<style type=\"text/css\">\n.popover {\n  pointer-events: none;\n  z-index: 99999;\n}\n.absolute {\n  position: absolute;\n}\n.fixed {\n  position: fixed;\n}\n</style>\n\n<script>\nexport default {\n  props: ['text', 'y']\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tip.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tip.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Tip.vue?vue&type=template&id=07d0c1b6&\"\nimport script from \"./Tip.vue?vue&type=script&lang=js&\"\nexport * from \"./Tip.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Tip.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Tip.vue\"\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib'\nimport { VCardTitle } from 'vuetify/lib'\nimport { VFlex } from 'vuetify/lib'\nimport { VLayout } from 'vuetify/lib'\ninstallComponents(component, {\n  VCard,\n  VCardTitle,\n  VFlex,\n  VLayout,\n})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{domProps:{\"innerHTML\":_vm._s(_vm.html)},on:{\"mouseover\":_vm.doHighlight,\"click\":_vm.onClick}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <p\n    @mouseover=\"doHighlight\"\n    v-html=\"html\" v-on:click=\"onClick\">\n  </p>\n</template>\n\n<script>\nexport default {\n  props: ['html', 'callback', 'highlightClass'],\n  data: ({ html, callback, highlightClass }) => ({\n    highlight: highlightClass || 'highlight',\n    focus: null\n  }),\n  methods: {\n    onClick: function ({ target }) {\n      if ( target === this.focus ) {\n        this.undoHighlight()\n      } else {\n        this.doHighlight({ target })\n      }\n    },\n\n    doHighlight: function ({ target }) {\n      const isHighlight = target.className.split(' ').includes(this.highlight)\n\n      if (isHighlight) {\n        this.callback(target)\n        this.focus = target\n      } else {\n        this.undoHighlight()\n      }\n    },\n\n    undoHighlight: function () {\n      this.callback(false)\n      this.focus = null\n      // const isHighlight = target.className.split(' ').includes(this.highlight)\n      //\n      // if (isHighlight) {\n      // }\n    },\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InteractiveText.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InteractiveText.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InteractiveText.vue?vue&type=template&id=5e06ec12&\"\nimport script from \"./InteractiveText.vue?vue&type=script&lang=js&\"\nexport * from \"./InteractiveText.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"InteractiveText.vue\"\nexport default component.exports","export const getTipMessage = (data) => {\n  const { offset, type, content } = data\n  console.log('highlight', { offset, type, content })\n\n  switch (type) {\n    case 'sentiment':\n      const _sentiment = parseFloat(data.sentiment) || 0.0\n\n      return {\n        title: `\n          '${content}' has ${\n          _sentiment > 0 ? 'positive' : 'negative'}\n          sentiment here (${_sentiment.toFixed(2)})\n        `,\n        message: `\n          Pay attention to strong emotional message text sends.\n          Usually, it can be used to manipulate your opinion.\n        `\n      }\n    case 'fact':\n      return {\n        title: `\n          Does the article prove this fact?\n        `,\n        message: `\n          Looks like this is one of the main messages in the article.\n          Try asking yourself: Could this statement be false?\n        `\n      }\n    case 'generalization':\n      return {\n        title: `\n          '${content}' is a generalization\n        `,\n        message: `\n          Any general statement is false.\n          No jokes, generalizations tend to overcome need for proof using\n          cherry-picked examples. Look what happens if you replace '${content}'\n          by 'one of the'\n        `\n      }\n    default:\n      return {\n        title: `\n          '${content}' is of type '${type}'\n        `,\n        message: `\n          Our AI highlighter asks you to look closely at this statement.\n        `\n      }\n  }\n}\n","export const getColor = (hue, saturation, alpha) =>\n  `hsla(${hue}, ${(saturation * 100).toFixed(0)}%, 50%, ${(alpha * 100).toFixed(0)})`\n\nexport const htmlForHighlight = (highlight, type = 'text') => {\n  const { offset, content, ...rest } = highlight\n\n  const style = ``\n\n  return `<span\n    style=\"${style}\"\n    class=\"highlight highlight-${type} highlight-${type}-${offset}\"\n    data-type=\"${type}\"\n    data-content=\"${content}\"\n    data-offset=\"${offset}\"\n    >${content}</span>`\n\n}\n\nexport const htmlForSentiment = (entity) => {\n  const { sentiment, magnitude, offset, content } = entity\n\n  const highlightColor = sentiment > 0\n    ? getColor(118, Math.abs(sentiment) + 0.5, magnitude)\n    : getColor(360, Math.abs(sentiment) + 0.5, magnitude)\n\n  const style = `text-decoration-color: ${highlightColor}`\n\n  return (\n    `<span\n      style=\"${style}\"\n      class=\"highlight highlight-sentiment-${offset}\"\n      data-type=\"sentiment\"\n      data-content=\"${content}\"\n      data-offset=\"${offset}\"\n      data-magnitude=${magnitude}\n      data-sentiment=${sentiment}\n      >${content}</span>`\n  )\n}\n\nexport const convertTokens = (text, tokens, type) =>\n  tokens.map((token) => {\n    const { offset, content } = token\n\n    const html = htmlForHighlight(token, type)\n\n    return { type, offset, html, content }\n  })\n\nexport const convertAiTokens = (text, entities) =>\n  entities.map(entity => {\n    const { offset, content } = entity\n    const html = htmlForSentiment(entity)\n    return { type: 'sentiment', offset, html, content }\n  })\n\nexport const convertHtml = (text, html) =>\n  html.map(tag => {\n    const [ offset, html ] = tag\n\n    return { type: 'html', offset, html, content: '' }\n  })\n\nexport const extract = (text, markup) => {\n  const byOffset = (a,b) => {\n    return a.offset - b.offset || (\n      a.type === 'begin' ? -1 : 0\n    ) || (\n      b.type === 'begin' ? 1 : 0\n    ) || (\n      a.type === 'end' ? 1 : 0\n    ) || (\n      b.type === 'end' ? -1 : 0\n    ) || (\n      a.type === 'html' ? -1 : 0\n    ) || (\n      b.type === 'html' ? 1 : 0\n    ) || (\n      a.type === 'text' ? -1 : 0\n    ) || (\n      b.type === 'text' ? 1 : 0\n    )\n  }\n\n  markup.push({\n    type: 'begin',\n    offset: 0,\n    content: '',\n  })\n\n  markup.push({\n    type: 'end',\n    offset: text.length,\n    content: '',\n  })\n\n  const tokens = markup.sort(byOffset)\n\n  const { text_tokens } = tokens.reduce(({ text_tokens, current_offset }, elem) => {\n    const { offset, content } = elem\n\n    if (offset < current_offset) return { text_tokens, current_offset }\n\n    const extract = text.slice(current_offset, offset)\n\n    text_tokens.push({ type: 'text', offset: current_offset, content: extract })\n\n    console.log(current_offset)\n    console.log(extract)\n    console.log(elem)\n\n    current_offset += extract.length + content.length\n\n    return { text_tokens, current_offset }\n  }, { text_tokens: [], current_offset: 0 })\n\n  return [ ...markup, ...text_tokens ].sort(byOffset)\n}\n","<template>\n<div>\n\n  <Tip v-if=\"isShowingTip\" :text=\"tip\" :y=\"tipOffset + 32\" class=\"tip\" />\n\n  <article class=\"reading-mode simple-container\">\n\n    <h1>\n      {{ article.title }}\n    </h1>\n\n    <v-layout justify-center>\n      <v-flex xs12>\n        <v-img :src=\"article.image\" max-heigth=\"400px\">\n        </v-img>\n      </v-flex>\n    </v-layout>\n\n    <p></p>\n\n    <v-container v-if=\"isHTMLReady\">\n      <InteractiveText :html=\"rawHtml\" :callback=\"onHighlight\" />\n      <p>\n        Source: <a :href=\"article.url\" target=\"_blank\">{{ article.url }}</a>\n      </p>\n    </v-container>\n\n    <p v-else>\n      Markup is getting ready...\n      <br> <br>\n      {{ article.text }}\n    </p>\n  </article>\n\n</div>\n</template>\n\n<style type=\"text/css\">\n  .reading-mode {\n    text-align: left;\n    max-width: 700px;\n\n    font-family: 'Merriweather', serif;\n    line-height: 1.6;\n    font-size: 20px;\n    color: #111;\n    text-rendering: optimizeLegibility;\n  }\n\n  .reading-mode h1 {\n    margin-bottom: 50px;\n  }\n\n  .reading-mode img {\n    max-width: 100%;\n    height: auto;\n  }\n\n  .tip {\n    font-family: 'Merriweather', serif;\n    line-height: 1.6;\n    font-size: 16px;\n  }\n  .tip .card {\n    background: #f4e842;\n  }\n\n  .highlight {\n    text-decoration: underline;\n    text-decoration-color: #f4e842;\n    /* background: #f4e842; */\n  }\n\n  .highlight-fact {\n    text-decoration-color: #ff49bc;\n    /* background: #ff49bc; */\n  }\n\n  .highlight-generalization {\n    text-decoration-color: #fcb423;\n    /* background: #fcb423; */\n  }\n</style>\n\n<script>\nimport Tip from '@/components/Tip.vue'\nimport InteractiveText from '@/components/InteractiveText.vue'\n\nimport { getTipMessage } from '@/services/highlights'\n\nimport {\n  extract, convertHtml, convertTokens, convertAiTokens\n} from '@/services/hairsplitter'\n\nexport default {\n  name: 'Article',\n  props: [\"article\"],\n  created: async function () {\n\n  },\n  watch: {\n    article: function (article) {\n      console.log('new value', article)\n      if (!article) return\n\n      this.isHTMLReady = false\n      this.highlight()\n    }\n  },\n  components: {\n    InteractiveText,\n    Tip,\n  },\n  methods: {\n    onHighlight: function (element) {\n      if (element) {\n        this.isShowingTip = true\n        this.tipOffset = element.offsetTop\n        this.showTip(element.dataset)\n      } else {\n        this.isShowingTip = false\n      }\n    },\n    showTip: function (data) {\n      this.tip = getTipMessage(data)\n    },\n    highlight: function () {\n      const { title, text, html, entities, stopwords, checkFacts } = this.article\n\n      if (!title) return\n\n      const html_tokens = convertHtml(text, html)\n\n      const filteredEntities = entities\n        .filter(entity => entity.salience > 0.001)\n        .flatMap(entity => entity.mentions)\n        .filter(entity => entity.magnitude != 0)\n\n      const ai_tokens = convertAiTokens(text, filteredEntities)\n\n      const fact_tokens = convertTokens(text, checkFacts, 'fact')\n\n      const stopwords_tokens = convertTokens(text, stopwords, 'generalization')\n\n      console.log(text)\n      console.log(stopwords_tokens)\n\n      this.highlights = [\n        ...ai_tokens,\n        ...html_tokens,\n        ...fact_tokens,\n        ...stopwords_tokens,\n      ]\n\n      const tokens = extract(text, this.highlights)\n\n      console.log(tokens)\n      const rawHtml = tokens.map(token => token.html || token.content).join('')\n\n      console.log(rawHtml)\n\n      if (rawHtml) {\n        this.rawHtml = rawHtml\n        this.isHTMLReady = true\n      }\n\n    }\n  },\n  data: ({ article: { url, title, text, html, entities } }) => ({\n    url,\n    title,\n    text,\n    html,\n    entities,\n\n    isShowingTip: false,\n    tipOffset: 0,\n    tip: {},\n\n    isHTMLReady: false,\n    isAIReady: false,\n    rawHtml: '',\n    highlights: [],\n  })\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Article.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Article.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Article.vue?vue&type=template&id=23466087&\"\nimport script from \"./Article.vue?vue&type=script&lang=js&\"\nexport * from \"./Article.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Article.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Article.vue\"\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VContainer } from 'vuetify/lib'\nimport { VFlex } from 'vuetify/lib'\nimport { VImg } from 'vuetify/lib'\nimport { VLayout } from 'vuetify/lib'\ninstallComponents(component, {\n  VContainer,\n  VFlex,\n  VImg,\n  VLayout,\n})\n","<template>\n    <v-content>\n    <section>\n      <v-layout\n      column\n      align-center\n      justify-center\n      >\n        <a href=\"/analyze\">\n          <img src=\"../assets/logo.png\" alt=\"more just media\" height=\"200\">\n        </a>\n\n        <p>\n          <a :href=\"url\">{{ url }}</a>\n        </p>\n\n        <h1 v-if=\"isLoading\">Loading...</h1>\n\n        <h2 v-if=\"!!error\" red>{{ error }}</h2>\n\n        <Article v-else :article=\"article\" />\n\n      </v-layout>\n    </section>\n  </v-content>\n</template>\n\n\n<script>\nimport api from '@/services/api'\nimport Article from '@/components/Article.vue'\n\n\nexport default {\n  name: 'ReadMode',\n  props: ['url'],\n  created: async function () {\n    const { url } = this\n\n    this.loadArticle(url)\n  },\n  data: function ({ url }) {\n    return {\n      isLoading: true,\n      error: '',\n      article: {}\n    }\n  },\n  watch: {\n    url: function (newUrl) {\n      this.isLoading = true\n      this.error = false\n\n      this.loadArticle(newUrl)\n    }\n  },\n  methods: {\n    loadArticle: async function (url) {\n      try {\n        const parsing_result = await api.analyse(url)\n        console.log(parsing_result)\n\n        const { post } = parsing_result\n\n        if (!post) throw new Error(`Bad API response: No post data`)\n\n        const { title, text, image } = post\n\n        if (!text) throw new Error(`Bad API response: Empty text`)\n\n        this.article = { url, title, text, image, ...parsing_result }\n\n        console.log('this.article', this.article)\n      }\n      catch (err) {\n        this.error = err.message\n        console.log('err', err.message)\n      }\n      finally {\n        this.isLoading = false\n      }\n    }\n  },\n  components: {\n    Article,\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReadMode.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReadMode.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ReadMode.vue?vue&type=template&id=bcb7b6a2&\"\nimport script from \"./ReadMode.vue?vue&type=script&lang=js&\"\nexport * from \"./ReadMode.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"ReadMode.vue\"\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VContent } from 'vuetify/lib'\nimport { VLayout } from 'vuetify/lib'\ninstallComponents(component, {\n  VContent,\n  VLayout,\n})\n"],"sourceRoot":""}