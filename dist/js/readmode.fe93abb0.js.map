{"version":3,"sources":["webpack:///./src/components/Tip.vue?98c1","webpack:///./src/components/Article.vue?b804","webpack:///./src/views/ReadMode.vue?e780","webpack:///./src/components/Article.vue?f02e","webpack:///./src/components/Tip.vue?20d3","webpack:///src/components/Tip.vue","webpack:///./src/components/Tip.vue?f1a2","webpack:///./src/components/Tip.vue","webpack:///./src/components/InteractiveText.vue?8309","webpack:///src/components/InteractiveText.vue","webpack:///./src/components/InteractiveText.vue?8ad2","webpack:///./src/components/InteractiveText.vue","webpack:///./src/services/hairsplitter/index.js","webpack:///src/components/Article.vue","webpack:///./src/components/Article.vue?5c4c","webpack:///./src/components/Article.vue","webpack:///src/views/ReadMode.vue","webpack:///./src/views/ReadMode.vue?76a7","webpack:///./src/views/ReadMode.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Tip_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Tip_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Article_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_oneOf_1_2_node_modules_vuetify_loader_lib_loader_js_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Article_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","render","_vm","this","_h","$createElement","_c","_self","attrs","column","align-center","justify-center","href","src","alt","height","url","_v","_s","_e","error","red","article","staticRenderFns","Articlevue_type_template_id_423871c4_render","staticClass","text","tip","title","xs12","sm8","image","max-width","html","rawHtml","callback","onHighlight","target","Articlevue_type_template_id_423871c4_staticRenderFns","Tipvue_type_template_id_630726dd_render","sm4","offset-sm8","primary-title","Tipvue_type_template_id_630726dd_staticRenderFns","Tipvue_type_script_lang_js_","props","components_Tipvue_type_script_lang_js_","component","Object","componentNormalizer","options","__file","Tip","installComponents_default","VCard","VCardTitle","VFlex","VLayout","InteractiveTextvue_type_template_id_5e06ec12_render","domProps","innerHTML","on","mouseover","doHighlight","click","onClick","InteractiveTextvue_type_template_id_5e06ec12_staticRenderFns","InteractiveTextvue_type_script_lang_js_","data","_ref","highlightClass","highlight","focus","methods","_ref2","undoHighlight","_ref3","isHighlight","className","split","includes","components_InteractiveTextvue_type_script_lang_js_","InteractiveText_component","InteractiveText","getColor","hue","saturation","alpha","concat","toFixed","htmlForSentiment","entity","sentiment","magnitude","offset","content","highlightColor","Math","abs","style","convertAiTokens","entities","map","type","convertHtml","tag","_tag","_slicedToArray","extract","markup","byOffset","a","b","push","length","tokens","sort","_tokens$reduce","reduce","elem","text_tokens","current_offset","slice","console","log","_toConsumableArray","Articlevue_type_script_lang_js_","name","created","_created","_asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","stop","apply","arguments","watch","_article","isHTMLReady","components","element","isShowingTip","showTip","dataset","_this$article","html_tokens","filteredEntities","filter","salience","flatMap","mentions","ai_tokens","highlights","Articlevue_type_script_lang_js_toConsumableArray","token","join","_ref$article","isAIReady","components_Articlevue_type_script_lang_js_","Article_component","Article","VContainer","VImg","ReadModevue_type_script_lang_js_","ReadModevue_type_script_lang_js_asyncToGenerator","loadArticle","isLoading","newUrl","_loadArticle","_callee2","parsing_result","post","_context2","api","analyse","sent","Error","t0","message","finish","_x","views_ReadModevue_type_script_lang_js_","ReadMode_component","__webpack_exports__","VContent"],"mappings":"8JAAA,IAAAA,EAAAC,EAAA,QAAAC,EAAAD,EAAAE,EAAAH,GAAufE,EAAG,qCCA1f,IAAAE,EAAAH,EAAA,QAAAI,EAAAJ,EAAAE,EAAAC,GAA2fC,EAAG,4CCA9f,IAAAC,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,aAAAA,EAAA,WAAAA,EAAA,YAAoDE,OAAOC,OAAA,GAAAC,eAAA,GAAAC,iBAAA,MAAmDL,EAAA,KAAUE,OAAOI,KAAA,OAAYN,EAAA,OAAYE,OAAOK,IAAMjB,EAAQ,QAAoBkB,IAAA,kBAAAC,OAAA,WAA0CT,EAAA,KAAAA,EAAA,KAAoBE,OAAOI,KAAAV,EAAAc,OAAgBd,EAAAe,GAAAf,EAAAgB,GAAAhB,EAAAc,UAAAd,EAAA,UAAAI,EAAA,MAAAJ,EAAAe,GAAA,gBAAAf,EAAAiB,KAAAjB,EAAAkB,MAAAd,EAAA,MAA8GE,OAAOa,IAAA,MAAUnB,EAAAe,GAAAf,EAAAgB,GAAAhB,EAAAkB,UAAAd,EAAA,WAA4CE,OAAOc,QAAApB,EAAAoB,YAAuB,UACvjBC,sCCDIC,EAAM,WAAgB,IAAAtB,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,eAAAJ,EAAA,aAAAI,EAAA,OAAsDmB,YAAA,MAAAjB,OAAyBkB,KAAAxB,EAAAyB,OAAgBzB,EAAAiB,KAAAb,EAAA,WAAyBmB,YAAA,kCAA4CnB,EAAA,MAAAJ,EAAAe,GAAA,WAAAf,EAAAgB,GAAAhB,EAAAoB,QAAAM,OAAA,YAAAtB,EAAA,YAAkFE,OAAOG,iBAAA,MAAqBL,EAAA,UAAeE,OAAOqB,KAAA,GAAAC,IAAA,MAAoBxB,EAAA,SAAcE,OAAOK,IAAAX,EAAAoB,QAAAS,MAAAC,YAAA,YAA6C,OAAA1B,EAAA,KAAAJ,EAAA,YAAAI,EAAA,eAAAA,EAAA,mBAA4EE,OAAOyB,KAAA/B,EAAAgC,QAAAC,SAAAjC,EAAAkC,eAA+C9B,EAAA,KAAAJ,EAAAe,GAAA,sBAAAX,EAAA,KAA+CE,OAAOI,KAAAV,EAAAoB,QAAAN,IAAAqB,OAAA,YAA0CnC,EAAAe,GAAAf,EAAAgB,GAAAhB,EAAAoB,QAAAN,WAAA,GAAAV,EAAA,KAAAJ,EAAAe,GAAA,8CAAAX,EAAA,MAAAA,EAAA,MAAAJ,EAAAe,GAAA,WAAAf,EAAAgB,GAAAhB,EAAAoB,QAAAI,MAAA,qBACrrBY,KCDAC,EAAM,WAAgB,IAAArC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,YAAsBmB,YAAA,kBAA4BnB,EAAA,UAAeE,OAAOqB,KAAA,GAAAW,IAAA,GAAAC,aAAA,MAAoCnC,EAAA,UAAAA,EAAA,gBAAkCE,OAAOkC,gBAAA,MAAoBpC,EAAA,OAAAJ,EAAAe,GAAA,eAAAf,EAAAgB,GAAAhB,EAAAwB,MAAA,+BAC9PiB,KC4BJC,GACAC,OAAA,SC9B6XC,EAAA,+FCQ7XC,EAAgBC,OAAAC,EAAA,KAAAD,CACdF,EACAP,EACAI,GACF,EACA,KACA,KACA,MAIAI,EAAAG,QAAAC,OAAA,UACA,IAAAC,EAAeL,EAAiB,QAQhCM,IAAiBN,GACfO,QAAA,KACAC,aAAA,KACAC,QAAA,KACAC,UAAA,OChCF,IAAIC,EAAM,WAAgB,IAAAxD,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,KAAeqD,UAAUC,UAAA1D,EAAAgB,GAAAhB,EAAA+B,OAA6B4B,IAAKC,UAAA5D,EAAA6D,YAAAC,MAAA9D,EAAA+D,YAChJC,KCOJC,GACAtB,OAAA,oCACAuB,KAAA,SAAAC,KAAApC,KAAAoC,EAAAlC,SAAA,IAAAmC,EAAAD,EAAAC,eAAA,OACAC,UAAAD,GAAA,YACAE,MAAA,OAEAC,SACAR,QAAA,SAAAS,GAAA,IAAArC,EAAAqC,EAAArC,OACAA,IAAAlC,KAAAqE,MACArE,KAAAwE,gBAEAxE,KAAA4D,aAAA1B,YAIA0B,YAAA,SAAAa,GAAA,IAAAvC,EAAAuC,EAAAvC,OACAwC,EAAAxC,EAAAyC,UAAAC,MAAA,KAAAC,SAAA7E,KAAAoE,WAEAM,GACA1E,KAAAgC,SAAAE,GACAlC,KAAAqE,MAAAnC,GAEAlC,KAAAwE,iBAIAA,cAAA,WACAxE,KAAAgC,UAAA,GACAhC,KAAAqE,MAAA,QCpCyYS,EAAA,ECOrYC,EAAYlC,OAAAC,EAAA,KAAAD,CACdiC,EACAvB,EACAQ,GACF,EACA,KACA,KACA,MAIAgB,EAAShC,QAAAC,OAAA,sBACM,IAAAgC,EAAAD,4wBCnBR,IAAME,EAAW,SAACC,EAAKC,EAAYC,GAAlB,cAAAC,OACdH,EADc,MAAAG,QACQ,IAAbF,GAAkBG,QAAQ,GADrB,YAAAD,QAC2C,IAARD,GAAaE,QAAQ,GADxD,MAGXC,EAAmB,SAACC,GAAW,IAClCC,EAA0CD,EAA1CC,UAAWC,EAA+BF,EAA/BE,UAAWC,EAAoBH,EAApBG,OAAQC,EAAYJ,EAAZI,QAEhCC,EACFZ,EADmBQ,EAAY,EACtB,IACA,IADKK,KAAKC,IAAIN,GAAa,GAAKC,GAGvCM,8BAA6BH,GAEnC,6BAAAR,OAEaW,EAFb,kDAAAX,OAG2CM,EAH3C,wDAAAN,OAKoBO,EALpB,0BAAAP,OAMmBM,EANnB,4BAAAN,OAOqBK,EAPrB,2BAAAL,OAQqBI,EARrB,aAAAJ,OASOO,EATP,YAaWK,EAAkB,SAAC1E,EAAM2E,GAAP,OAC7BA,EAASC,IAAI,SAAAX,GAAU,IACbG,EAAoBH,EAApBG,OAAQC,EAAYJ,EAAZI,QACV9D,EAAOyD,EAAiBC,GAC9B,OAASY,KAAM,YAAaT,SAAQ7D,OAAM8D,cAGjCS,EAAc,SAAC9E,EAAMO,GAAP,OACzBA,EAAKqE,IAAI,SAAAG,GAAO,IAAAC,EAAAC,EACWF,EADX,GACNX,EADMY,EAAA,GACEzE,EADFyE,EAAA,GAGd,OAASH,KAAM,OAAQT,SAAQ7D,OAAM8D,QAAS,OAGrCa,EAAU,SAAClF,EAAMmF,GAC5B,IAAMC,EAAW,SAACC,EAAEC,GAClB,OAAOD,EAAEjB,OAASkB,EAAElB,SACP,UAAXiB,EAAER,MAAoB,EAAI,KAEf,UAAXS,EAAET,KAAmB,EAAI,KAEd,QAAXQ,EAAER,KAAiB,EAAI,KAEZ,QAAXS,EAAET,MAAkB,EAAI,KAEb,SAAXQ,EAAER,MAAmB,EAAI,KAEd,SAAXS,EAAET,KAAkB,EAAI,KAEb,SAAXQ,EAAER,MAAmB,EAAI,KAEd,SAAXS,EAAET,KAAkB,EAAI,IAI5BM,EAAOI,MACLV,KAAM,QACNT,OAAQ,EACRC,QAAS,KAGXc,EAAOI,MACLV,KAAM,MACNT,OAAQpE,EAAKwF,OACbnB,QAAS,KAGX,IAAMoB,EAASN,EAAOO,KAAKN,GAjCYO,EAmCfF,EAAOG,OAAO,SAAAjD,EAAkCkD,GAAS,IAAxCC,EAAwCnD,EAAxCmD,YAAaC,EAA2BpD,EAA3BoD,eAC5C3B,EAAoByB,EAApBzB,OAAQC,EAAYwB,EAAZxB,QAEVa,EAAUlF,EAAKgG,MAAMD,EAAgB3B,GAU3C,OARA0B,EAAYP,MAAOV,KAAM,OAAQT,OAAQ2B,EAAgB1B,QAASa,IAElEe,QAAQC,IAAIH,GACZE,QAAQC,IAAIhB,GACZe,QAAQC,IAAIL,GAEZE,GAAkBb,EAAQM,OAASnB,EAAQmB,QAElCM,cAAaC,oBACnBD,eAAiBC,eAAgB,IAd9BD,EAnC+BH,EAmC/BG,YAgBR,OAAOK,EAAKhB,GAALrB,OAAAqC,EAAgBL,IAAcJ,KAAKN,wnBC1B5C,IAAAgB,GACAC,KAAA,UACAlF,OAAA,WACAmF,QAAA,eAAAC,EAAAC,EAAAC,EAAApB,EAAAqB,KAAA,SAAAC,IAAA,OAAAF,EAAApB,EAAAuB,KAAA,SAAAC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,wBAAAF,EAAAG,SAAAL,EAAAlI,SAAA,yBAAA8H,EAAAU,MAAAxI,KAAAyI,YAAA,GAGAC,OACAvH,QAAA,SAAAwH,GACAnB,QAAAC,IAAA,YAAAkB,GACAA,IAEA3I,KAAA4I,aAAA,EACA5I,KAAAoE,eAGAyE,YACA7D,kBACA/B,OAEAqB,SACArC,YAAA,SAAA6G,GACAA,GACA9I,KAAA+I,cAAA,EACA/I,KAAAgJ,QAAAF,EAAAG,UAEAjJ,KAAA+I,cAAA,GAGAC,QAAA,SAAA/E,GAAA,IACA0B,EAAA1B,EAAA0B,OAAAS,EAAAnC,EAAAmC,KAAAR,EAAA3B,EAAA2B,QAAAH,EAAAxB,EAAAwB,UAAAC,EAAAzB,EAAAyB,UAEA8B,QAAAC,IAAA,aAAA9B,SAAAS,OAAAR,UAAAH,cAEAzF,KAAAwB,IAAA,cAAA6D,OACAO,EADA,+CAAAP,OAGAI,EAHA,UAAAJ,OAGAK,EAHA,4IASAtB,UAAA,eAAA8E,EACAlJ,KAAAmB,QAAAM,EADAyH,EACAzH,MAAAF,EADA2H,EACA3H,KAAAO,EADAoH,EACApH,KAAAoE,EADAgD,EACAhD,SAEA,GAAAzE,EAAA,CAEA,IAAA0H,EAAA9C,EAAA9E,EAAAO,GAEAsH,EAAAlD,EACAmD,OAAA,SAAA7D,GAAA,OAAAA,EAAA8D,SAAA,MACAC,QAAA,SAAA/D,GAAA,OAAAA,EAAAgE,WACAH,OAAA,SAAA7D,GAAA,UAAAA,EAAAE,YAEA+D,EAAAxD,EAAA1E,EAAA6H,GAEA5B,QAAAC,IAAAlG,GAEAvB,KAAA0J,WAAAC,EAAAF,GAAApE,OAAAsE,EAAAR,IAEA,IAAAnC,EAAAP,EAAAlF,EAAAvB,KAAA0J,YAEAlC,QAAAC,IAAAT,GACA,IAAAjF,EAAAiF,EAAAb,IAAA,SAAAyD,GAAA,OAAAA,EAAA9H,MAAA8H,EAAAhE,UAAAiE,KAAA,IAEArC,QAAAC,IAAA1F,GAEAA,IACA/B,KAAA+B,UACA/B,KAAA4I,aAAA,MAKA3E,KAAA,SAAAC,GAAA,IAAA4F,EAAA5F,EAAA/C,QAAAN,EAAAiJ,EAAAjJ,IAAAY,EAAAqI,EAAArI,MAAAF,EAAAuI,EAAAvI,KAAAO,EAAAgI,EAAAhI,KAAAoE,EAAA4D,EAAA5D,SAAA,OACArF,MACAY,QACAF,OACAO,OACAoE,WAEA6C,cAAA,EACAvH,IAAA,GAEAoH,aAAA,EACAmB,WAAA,EACAhI,QAAA,GACA2H,iBCvJiYM,EAAA,sCCQ7XC,EAAYpH,OAAAC,EAAA,KAAAD,CACdmH,EACA3I,EACAc,GACF,EACA,KACA,KACA,MAIA8H,EAASlH,QAAAC,OAAA,cACT,IAAAkH,EAAeD,EAAiB,8RAQhC/G,IAAkB+G,GAChBE,aAAA,KACA9G,QAAA,KACA+G,OAAA,KACA9G,UAAA,OCCF,IAAA+G,IACAzC,KAAA,WACAlF,OAAA,OACAmF,QAAA,eAAAC,EAAAwC,EAAAtC,EAAApB,EAAAqB,KAAA,SAAAC,IAAA,IAAArH,EAAA,OAAAmH,EAAApB,EAAAuB,KAAA,SAAAC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACAzH,EAAAb,KAAAa,IAEAb,KAAAuK,YAAA1J,GAHA,wBAAAuH,EAAAG,SAAAL,EAAAlI,SAAA,yBAAA8H,EAAAU,MAAAxI,KAAAyI,YAAA,GAKAxE,KAAA,SAAAC,KAAArD,IACA,OACA2J,WAAA,EACAvJ,MAAA,GACAE,aAGAuH,OACA7H,IAAA,SAAA4J,GACAzK,KAAAwK,WAAA,EACAxK,KAAAiB,OAAA,EAEAjB,KAAAuK,YAAAE,KAGAnG,SACAiG,YAAA,eAAAG,EAAAJ,EAAAtC,EAAApB,EAAAqB,KAAA,SAAA0C,EAAA9J,GAAA,IAAA+J,EAAAC,EAAA/I,EAAAoE,EAAAzE,EAAAF,EAAAK,EAAA,OAAAoG,EAAApB,EAAAuB,KAAA,SAAA2C,GAAA,eAAAA,EAAAzC,KAAAyC,EAAAxC,MAAA,cAAAwC,EAAAzC,KAAA,EAAAyC,EAAAxC,KAAA,EAEAyC,EAAA,KAAAC,QAAAnK,GAFA,UAEA+J,EAFAE,EAAAG,KAGAzD,QAAAC,IAAAmD,GAEAC,EAAAD,EAAAC,KAAA/I,EAAA8I,EAAA9I,KAAAoE,EAAA0E,EAAA1E,SAEA2E,EAPA,CAAAC,EAAAxC,KAAA,cAOA,IAAA4C,MAAA,kCAPA,UASAzJ,EAAAoJ,EAAApJ,MAAAF,EAAAsJ,EAAAtJ,KAAAK,EAAAiJ,EAAAjJ,MAEAL,EAXA,CAAAuJ,EAAAxC,KAAA,eAWA,IAAA4C,MAAA,gCAXA,QAaAlL,KAAAmB,SAAAN,MAAAY,QAAAF,OAAAO,OAAAF,QAAAsE,YAEAsB,QAAAC,IAAA,eAAAzH,KAAAmB,SAfA2J,EAAAxC,KAAA,iBAAAwC,EAAAzC,KAAA,GAAAyC,EAAAK,GAAAL,EAAA,YAkBA9K,KAAAiB,MAAA6J,EAAAK,GAAAC,QACA5D,QAAAC,IAAA,MAAAqD,EAAAK,GAAAC,SAnBA,eAAAN,EAAAzC,KAAA,GAsBArI,KAAAwK,WAAA,EAtBAM,EAAAO,OAAA,6BAAAP,EAAAvC,SAAAoC,EAAA3K,OAAA,iCAAAsL,GAAA,OAAAZ,EAAAlC,MAAAxI,KAAAyI,YAAA,IA0BAI,YACAqB,YCpFkYqB,GAAA,gBCO9XC,GAAY3I,OAAAC,EAAA,KAAAD,CACd0I,GACAzL,EACAsB,GACF,EACA,KACA,KACA,MAIAoK,GAASzI,QAAAC,OAAA,eACTyI,EAAA,WAAeD,GAAiB,QAMhCtI,IAAkBsI,IAChBE,YAAA,KACApI,UAAA","file":"js/readmode.fe93abb0.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tip.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tip.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Article.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Article.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-content',[_c('section',[_c('v-layout',{attrs:{\"column\":\"\",\"align-center\":\"\",\"justify-center\":\"\"}},[_c('a',{attrs:{\"href\":\"/\"}},[_c('img',{attrs:{\"src\":require(\"../assets/logo.png\"),\"alt\":\"more just media\",\"height\":\"200\"}})]),_c('p',[_c('a',{attrs:{\"href\":_vm.url}},[_vm._v(_vm._s(_vm.url))])]),(_vm.isLoading)?_c('h1',[_vm._v(\"Loading...\")]):_vm._e(),(!!_vm.error)?_c('h2',{attrs:{\"red\":\"\"}},[_vm._v(_vm._s(_vm.error))]):_c('Article',{attrs:{\"article\":_vm.article}})],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[(_vm.isShowingTip)?_c('Tip',{staticClass:\"tip\",attrs:{\"text\":_vm.tip}}):_vm._e(),_c('article',{staticClass:\"reading-mode simple-container\"},[_c('h1',[_vm._v(\"\\n      \"+_vm._s(_vm.article.title)+\"\\n    \")]),_c('v-layout',{attrs:{\"justify-center\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"sm8\":\"\"}},[_c('v-img',{attrs:{\"src\":_vm.article.image,\"max-width\":\"600px\"}})],1)],1),_c('p'),(_vm.isHTMLReady)?_c('v-container',[_c('InteractiveText',{attrs:{\"html\":_vm.rawHtml,\"callback\":_vm.onHighlight}}),_c('p',[_vm._v(\"\\n        Source: \"),_c('a',{attrs:{\"href\":_vm.article.url,\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm.article.url))])])],1):_c('p',[_vm._v(\"\\n      Markup is getting ready...\\n      \"),_c('br'),_c('br'),_vm._v(\"\\n      \"+_vm._s(_vm.article.text)+\"\\n    \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',{staticClass:\"fixed popover\"},[_c('v-flex',{attrs:{\"xs12\":\"\",\"sm4\":\"\",\"offset-sm8\":\"\"}},[_c('v-card',[_c('v-card-title',{attrs:{\"primary-title\":\"\"}},[_c('div',[_vm._v(\"\\n          \"+_vm._s(_vm.text)+\"\\n        \")])])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\n  <v-layout class=\"fixed popover\">\n    <v-flex xs12 sm4 offset-sm8>\n      <v-card>\n\n        <v-card-title primary-title>\n          <div>\n            {{ text }}\n          </div>\n        </v-card-title>\n      </v-card>\n    </v-flex>\n  </v-layout>\n\n\n</template>\n\n<style type=\"text/css\">\n.popover {\n  pointer-events: none;\n  z-index: 99999;\n}\n.fixed {\n  position: fixed;\n}\n</style>\n\n<script>\nexport default {\n  props: ['text']\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tip.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tip.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Tip.vue?vue&type=template&id=630726dd&\"\nimport script from \"./Tip.vue?vue&type=script&lang=js&\"\nexport * from \"./Tip.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Tip.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Tip.vue\"\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib'\nimport { VCardTitle } from 'vuetify/lib'\nimport { VFlex } from 'vuetify/lib'\nimport { VLayout } from 'vuetify/lib'\ninstallComponents(component, {\n  VCard,\n  VCardTitle,\n  VFlex,\n  VLayout,\n})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{domProps:{\"innerHTML\":_vm._s(_vm.html)},on:{\"mouseover\":_vm.doHighlight,\"click\":_vm.onClick}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <p\n    @mouseover=\"doHighlight\"\n    v-html=\"html\" v-on:click=\"onClick\">\n  </p>\n</template>\n\n<script>\nexport default {\n  props: ['html', 'callback', 'highlightClass'],\n  data: ({ html, callback, highlightClass }) => ({\n    highlight: highlightClass || 'highlight',\n    focus: null\n  }),\n  methods: {\n    onClick: function ({ target }) {\n      if ( target === this.focus ) {\n        this.undoHighlight()\n      } else {\n        this.doHighlight({ target })\n      }\n    },\n\n    doHighlight: function ({ target }) {\n      const isHighlight = target.className.split(' ').includes(this.highlight)\n\n      if (isHighlight) {\n        this.callback(target)\n        this.focus = target\n      } else {\n        this.undoHighlight()\n      }\n    },\n\n    undoHighlight: function () {\n      this.callback(false)\n      this.focus = null\n      // const isHighlight = target.className.split(' ').includes(this.highlight)\n      //\n      // if (isHighlight) {\n      // }\n    },\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InteractiveText.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InteractiveText.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InteractiveText.vue?vue&type=template&id=5e06ec12&\"\nimport script from \"./InteractiveText.vue?vue&type=script&lang=js&\"\nexport * from \"./InteractiveText.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"InteractiveText.vue\"\nexport default component.exports","export const getColor = (hue, saturation, alpha) =>\n  `hsla(${hue}, ${(saturation * 100).toFixed(0)}%, 50%, ${(alpha * 100).toFixed(0)})`\n\nexport const htmlForSentiment = (entity) => {\n  const { sentiment, magnitude, offset, content } = entity\n\n  const highlightColor = sentiment > 0\n    ? getColor(118, Math.abs(sentiment) + 0.5, magnitude)\n    : getColor(360, Math.abs(sentiment) + 0.5, magnitude)\n\n  const style = `background-color: ${highlightColor}`\n\n  return (\n    `<span\n      style=\"${style}\"\n      class=\"highlight highlight-sentiment-${offset}\"\n      data-type=\"sentiment\"\n      data-content=\"${content}\"\n      data-offset=\"${offset}\"\n      data-magnitude=${magnitude}\n      data-sentiment=${sentiment}\n      >${content}</span>`\n  )\n}\n\nexport const convertAiTokens = (text, entities) =>\n  entities.map(entity => {\n    const { offset, content } = entity\n    const html = htmlForSentiment(entity)\n    return { type: 'sentiment', offset, html, content }\n  })\n\nexport const convertHtml = (text, html) =>\n  html.map(tag => {\n    const [ offset, html ] = tag\n\n    return { type: 'html', offset, html, content: '' }\n  })\n\nexport const extract = (text, markup) => {\n  const byOffset = (a,b) => {\n    return a.offset - b.offset || (\n      a.type === 'begin' ? -1 : 0\n    ) || (\n      b.type === 'begin' ? 1 : 0\n    ) || (\n      a.type === 'end' ? 1 : 0\n    ) || (\n      b.type === 'end' ? -1 : 0\n    ) || (\n      a.type === 'html' ? -1 : 0\n    ) || (\n      b.type === 'html' ? 1 : 0\n    ) || (\n      a.type === 'text' ? -1 : 0\n    ) || (\n      b.type === 'text' ? 1 : 0\n    )\n  }\n\n  markup.push({\n    type: 'begin',\n    offset: 0,\n    content: '',\n  })\n\n  markup.push({\n    type: 'end',\n    offset: text.length,\n    content: '',\n  })\n\n  const tokens = markup.sort(byOffset)\n\n  const { text_tokens } = tokens.reduce(({ text_tokens, current_offset }, elem) => {\n    const { offset, content } = elem\n\n    const extract = text.slice(current_offset, offset)\n\n    text_tokens.push({ type: 'text', offset: current_offset, content: extract })\n\n    console.log(current_offset)\n    console.log(extract)\n    console.log(elem)\n\n    current_offset += extract.length + content.length\n\n    return { text_tokens, current_offset }\n  }, { text_tokens: [], current_offset: 0 })\n\n  return [ ...markup, ...text_tokens ].sort(byOffset)\n}\n","<template>\n<v-container>\n\n  <Tip v-if=\"isShowingTip\" :text=\"tip\" class=\"tip\" />\n\n  <article class=\"reading-mode simple-container\">\n\n    <h1>\n      {{ article.title }}\n    </h1>\n\n    <v-layout justify-center>\n      <v-flex xs12 sm8>\n        <v-img :src=\"article.image\" max-width=\"600px\">\n        </v-img>\n      </v-flex>\n    </v-layout>\n\n    <p></p>\n\n    <v-container v-if=\"isHTMLReady\">\n      <InteractiveText :html=\"rawHtml\" :callback=\"onHighlight\" />\n      <p>\n        Source: <a :href=\"article.url\" target=\"_blank\">{{ article.url }}</a>\n      </p>\n    </v-container>\n\n    <p v-else>\n      Markup is getting ready...\n      <br> <br>\n      {{ article.text }}\n    </p>\n  </article>\n\n</v-container>\n</template>\n\n<style type=\"text/css\">\n  .reading-mode {\n    text-align: left;\n    max-width: 700px;\n\n    font-family: 'Merriweather', serif;\n    line-height: 1.6;\n    font-size: 20px;\n    color: #111;\n    text-rendering: optimizeLegibility;\n  }\n\n  .reading-mode h1 {\n    margin-bottom: 50px;\n  }\n\n  .tip {\n\n  }\n</style>\n\n<script>\nimport Tip from '@/components/Tip.vue'\nimport InteractiveText from '@/components/InteractiveText.vue'\n\nimport { extract, convertHtml, convertAiTokens } from '@/services/hairsplitter'\n\nexport default {\n  name: 'Article',\n  props: [\"article\"],\n  created: async function () {\n\n  },\n  watch: {\n    article: function (article) {\n      console.log('new value', article)\n      if (!article) return\n\n      this.isHTMLReady = false\n      this.highlight()\n    }\n  },\n  components: {\n    InteractiveText,\n    Tip,\n  },\n  methods: {\n    onHighlight: function (element) {\n      if (element) {\n        this.isShowingTip = true\n        this.showTip(element.dataset)\n      } else {\n        this.isShowingTip = false\n      }\n    },\n    showTip: function (data) {\n      const { offset, type, content, sentiment, magnitude } = data\n\n      console.log('highlight', { offset, type, content, sentiment })\n\n      this.tip = `\n        \"${content}\"\n\n        Google API shows sentiment of ${sentiment} with ${magnitude}.\n\n        Pay attention to strong emotional message text sends.\n        Usually, it can be used to manipulate your opinion.\n      `\n    },\n    highlight: function () {\n      const { title, text, html, entities } = this.article\n\n      if (!title) return\n\n      const html_tokens = convertHtml(text, html)\n\n      const filteredEntities = entities\n        .filter(entity => entity.salience > 0.01)\n        .flatMap(entity => entity.mentions)\n        .filter(entity => entity.magnitude != 0)\n\n      const ai_tokens = convertAiTokens(text, filteredEntities)\n\n      console.log(text)\n\n      this.highlights = [ ...ai_tokens, ...html_tokens ]\n\n      const tokens = extract(text, this.highlights)\n\n      console.log(tokens)\n      const rawHtml = tokens.map(token => token.html || token.content).join('')\n\n      console.log(rawHtml)\n\n      if (rawHtml) {\n        this.rawHtml = rawHtml\n        this.isHTMLReady = true\n      }\n\n    }\n  },\n  data: ({ article: { url, title, text, html, entities } }) => ({\n    url,\n    title,\n    text,\n    html,\n    entities,\n\n    isShowingTip: false,\n    tip: '',\n\n    isHTMLReady: false,\n    isAIReady: false,\n    rawHtml: '',\n    highlights: [],\n  })\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Article.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Article.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Article.vue?vue&type=template&id=423871c4&\"\nimport script from \"./Article.vue?vue&type=script&lang=js&\"\nexport * from \"./Article.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Article.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Article.vue\"\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VContainer } from 'vuetify/lib'\nimport { VFlex } from 'vuetify/lib'\nimport { VImg } from 'vuetify/lib'\nimport { VLayout } from 'vuetify/lib'\ninstallComponents(component, {\n  VContainer,\n  VFlex,\n  VImg,\n  VLayout,\n})\n","<template>\n    <v-content>\n    <section>\n      <v-layout\n      column\n      align-center\n      justify-center\n      >\n        <a href=\"/\">\n          <img src=\"../assets/logo.png\" alt=\"more just media\" height=\"200\">\n        </a>\n\n        <p>\n          <a :href=\"url\">{{ url }}</a>\n        </p>\n\n        <h1 v-if=\"isLoading\">Loading...</h1>\n\n        <h2 v-if=\"!!error\" red>{{ error }}</h2>\n\n        <Article v-else :article=\"article\" />\n\n      </v-layout>\n    </section>\n  </v-content>\n</template>\n\n\n<script>\nimport api from '@/services/api'\nimport Article from '@/components/Article.vue'\n\n\nexport default {\n  name: 'ReadMode',\n  props: ['url'],\n  created: async function () {\n    const { url } = this\n\n    this.loadArticle(url)\n  },\n  data: function ({ url }) {\n    return {\n      isLoading: true,\n      error: '',\n      article: {}\n    }\n  },\n  watch: {\n    url: function (newUrl) {\n      this.isLoading = true\n      this.error = false\n\n      this.loadArticle(newUrl)\n    }\n  },\n  methods: {\n    loadArticle: async function (url) {\n      try {\n        const parsing_result = await api.analyse(url)\n        console.log(parsing_result)\n\n        const { post, html, entities } = parsing_result\n\n        if (!post) throw new Error(`Bad API response: No post data`)\n\n        const { title, text, image } = post\n\n        if (!text) throw new Error(`Bad API response: Empty text`)\n\n        this.article = { url, title, text, html, image, entities }\n\n        console.log('this.article', this.article)\n      }\n      catch (err) {\n        this.error = err.message\n        console.log('err', err.message)\n      }\n      finally {\n        this.isLoading = false\n      }\n    }\n  },\n  components: {\n    Article,\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReadMode.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReadMode.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ReadMode.vue?vue&type=template&id=f8cdd042&\"\nimport script from \"./ReadMode.vue?vue&type=script&lang=js&\"\nexport * from \"./ReadMode.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"ReadMode.vue\"\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VContent } from 'vuetify/lib'\nimport { VLayout } from 'vuetify/lib'\ninstallComponents(component, {\n  VContent,\n  VLayout,\n})\n"],"sourceRoot":""}